<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>选择场次</title>
    <script src="../js/api.js"></script>
    <script src="../js/auth.js"></script>
</head>
<body>

<script>requireLogin()</script>

<h2>场次列表</h2>
<ul id="list"></ul>

<script>
    axios.get("/cinemaSession/list",{params:{pageNum:1,pageSize:20}})
        .then(res=>{
            res.data.forEach(s=>{
                list.innerHTML+=`<li>
      ${s.sessionId} - ${s.showTime}
      <button onclick="go('${s.sessionId}')">选座</button>
    </li>`;
            });
        });

    function go(id){
        localStorage.setItem("sessionId",id);
        location.href="seat.html";
    }
</script>

</body>
</html>
